<div class="d-block d-flex justify-content-between">
  <h2 class="ps-3 pt-3">{{ isEditMode ? ('Edit-user' | translate) : ('new-user' | translate) }}</h2>
  <a class=" cancle-icon text-end text-decoration-none p-2" (click)="onCancel()">
    <i class="fa-solid fa-xmark"></i>
  </a>
</div>
<hr>
<section class="user-form">
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="username" class="font-weight-bold">{{"userName"|translate}}<span class="required text-danger ps-1">*</span></label>
          <input type="text" class="form-control" id="username" formControlName="username">
        </div>
      </div>
      <div class="col-md-6" *ngIf="!isEditMode">
        <div class="form-group px-3 ">
          <label for="passwordHash" class="font-weight-bold">{{"Password"|translate}}<span class="required text-danger ps-1">*</span></label>
          <input type="password" class="form-control" id="passwordHash"  formControlName="passwordHash">
          <p class="mb-0 fw-lighter w-100 font-style" > <span class="fw-bold">{{"Note"|translate}}:</span> {{"Note-qoute"|translate}}</p>
        </div>
        
          

      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="fullname" class="font-weight-bold">{{"fullName"|translate}}<span class="required text-danger ps-1">*</span></label>
          <input type="text" class="form-control" id="fullname"   formControlName="fullname">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="phone" class="font-weight-bold">{{"phone"|translate}}</label>
          <input type="text" class="form-control" id="phone"  formControlName="phone">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="email" class="font-weight-bold">{{"Email"|translate}}<span class="required text-danger ps-1">*</span></label>
          <input type="email" class="form-control" id="email" formControlName="email">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="address" class="font-weight-bold">{{"Address"|translate}}</label>
          <input type="text" class="form-control" id="address" formControlName="address">
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="departmentId" class="font-weight-bold">{{"department"|translate}}<span class="required text-danger ps-1">*</span></label>
          <select formControlName="departmentId" class="form-control" id="departmentId">
            <option value="" disabled selected></option>
            <option *ngFor="let department of departments" [value]="department.id">{{ department.name }}</option>
          </select>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group px-3">
          <label for="managerId" class="font-weight-bold">{{"manager"|translate}}</label>
          <select formControlName="managerId" class="form-control" id="managerId">
            <option value="" disabled selected></option>
            <option *ngFor="let user of users" [value]="user.id">{{ user.fullname }}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="row pt-2 w-50 d-flex">
      <div class="col-md-12">
        <div class="form-group px-3">
          <label for="roles" class="font-weight-bold">{{"Roles"|translate}} <span class="required text-danger ps-1">*</span></label>
          <mat-form-field appearance="fill">
            <mat-label></mat-label>
            <mat-select formControlName="roleIds" multiple>
              <mat-option *ngFor="let role of roles" [value]="role.id">{{ role.name }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
    <hr>
    <div class="d-flex justify-content-end pb-2 px-2">
      <button mat-button type="button" (click)="onCancel()" class="btn cancel-button me-2">{{"cancle-btn"|translate}}</button>
      <button mat-button type="submit" [disabled]="userForm.invalid" class="btn btn-primary">{{ isEditMode ? ('Update' | translate) : ('Save' | translate) }}</button>
    </div>
  </form>
</section>
